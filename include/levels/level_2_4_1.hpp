#include <libdragon.h>

#include "level_commands.hpp"
#include "level_enums.hpp"
#include "level/level_loader.hpp"

void level_2_4_1_load(void) {
    ma = 4500;
	mb = 3000 * 11;
	set_background_music(otom[4]);
	stagecolor = 4;
	scrollx = 2900 * (21 - 19);
	//
    uint8_t stagedatex[17][1001] = {
        {5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 98},
        {0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 7, 7, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 5, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0},
        {0, 5, 5, 0, 0, 5, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0},
        {0, 10, 10, 0, 0, 5, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 44, 0, 0},
        {0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 5, 0, 0, 0, 97, 0, 0, 0},
        {0, 40, 0, 0, 0, 5, 0, 0, 0, 0, 0, 5, 0, 0, 0, 5, 5, 5, 5},
        {86, 41, 0, 86, 0, 5, 86, 0, 0, 86, 0, 5, 86, 0, 0, 86, 0, 0, 86},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
    };
    //
	tco = 0;
	txtype[tco] = 1;
	spawn_block(12 * 29, 13 * 29 - 12, 115);
	tco += 1;
	//
	txtype[tco] = 1;
	spawn_block(13 * 29, 13 * 29 - 12, 115);
	tco += 1;
	//
	txtype[tco] = 1;
	spawn_block(14 * 29, 13 * 29 - 12, 115);
	tco += 1;
	//
	sco = 0;
	sa[sco] = 6 * 29 * 100;
	sb[sco] = (6 * 29 - 12) * 100;
	sc[sco] = 18000 - 1;
	sd[sco] = 6000 - 1;
	stype[sco] = 52;
	sxtype[sco] = 0;
	sco += 1;
	//
	sa[sco] = 12 * 29 * 100;
	sb[sco] = (8 * 29 - 12) * 100;
	sc[sco] = 9000 - 1;
	sd[sco] = 3000 - 1;
	stype[sco] = 52;
	sxtype[sco] = 2;
	sco += 1;
	//
	sa[sco] = 15 * 29 * 100;
	sb[sco] = (11 * 29 - 12) * 100;
	sc[sco] = 3000;
	sd[sco] = 6000;
	stype[sco] = 40;
	sxtype[sco] = 2;
	sco += 1;
	//
	sa[sco] = 17 * 29 * 100 + 1100;
	sb[sco] = (0 * 29 - 12) * 100;
	sc[sco] = 4700;
	sd[sco] = 38000;
	stype[sco] = 0;
	sxtype[sco] = 0;
	sco += 1;
	//
    level_parse_stagedate(stagedatex);
}

const uint8_t level_2_4_1[] = {
    LEVEL_BEGIN(),
        LEVEL_CALL(level_2_4_1_load),
    LEVEL_END(),
};